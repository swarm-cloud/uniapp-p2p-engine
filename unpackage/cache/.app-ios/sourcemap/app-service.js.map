{"version":3,"file":"app-service.js","sources":["uni_modules/cdnbye-swarmcloud?uts-proxy","pages/index/index.uvue","App.uvue","main.uts"],"sourcesContent":["","<template>\r\n\t<view class=\"content\">\n\t\r\n\t\t<video class=\"video\" ref=\"video\" id=\"video\" :header=\"header\"  :src=\"src\" @error=\"onError\" :controls=\"true\"></video>\r\n\t\t<button type=\"primary\" @tap=\"initCdnbye\">初始化cdnbye</button>\n\t\t <button @tap=\"startPlay\">p2p播放</button>\n\t\t <button @tap=\"stop\">停止播放</button>\n\t\t <button @tap=\"mystopP2p\">停止P2P</button>\n\t\t <button @tap=\"isConnected\">是否CDNBye连接</button>\n\t\t \n\t\t \r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\n\t\n\timport { ConfigOptions,initP2p,getP2pUrl,getP2pEngineVersion,p2pIsConnected,stopP2p } from \"@/uni_modules/cdnbye-swarmcloud\";\r\n\texport default {\n\t\tonReady() {\n\t\t\t//注意uniappx 的video组建ios没有实现 请自行更换其他播放器\n\t\t      this.videoContext = uni.createVideoContext('video', this);\n\t\t    },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvideoContext: null as VideoContext | null,\n\t\t\t\theader: {\n\t\t\t\t          'User-Agent': 'User-Agent test',\n\t\t\t\t          'header': 'header test',\n\t\t\t\t          'cookie': 'cookie test'\n\t\t\t\t        } as UTSJSONObject,\n\t\t\t\t// 属性\n\t\t\t\tsrc:\"\",\n\t\t\t\toldsrc: \"https://s5.bfengbf.com/video/17haoyinlecangkudierji/20240216/index.m3u8\",\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\r\n\t\t},\n\t\tonShow() {\n\t\t\t\n\t\t},\r\n\t\tmethods: {\n\t\t\tinitCdnbye: function () {\n\t\t\t\t\n\t\t\t\tlet options = {\n\t\t\t\t   logEnabled: true,\n\t\t\t\t   logLevel: 1,\n\t\t\t\t   trackerZone:0\n\t\t\t\t } as ConfigOptions;\n\t\t\t\t initP2p(\"4-iRPC_GR\",options);\n\t\t\t\t uni.__log__('log','at pages/index/index.uvue:52',getP2pEngineVersion());\n\t\t\t\t \n\t\t\t},\n\t\t\t\n\t\t\tstartPlay(){\n\t\t\t\tthis.src=getP2pUrl(this.oldsrc);\n\t\t\t\tuni.__log__('log','at pages/index/index.uvue:58',this.src);\n\t\t\t\t\n\t\t\t\tthis.videoContext?.play();\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t},\n\t\t\tisConnected(){\n\t\t\t\t//开始播放了才为true\n\t\t\t\tuni.__log__('log','at pages/index/index.uvue:68',p2pIsConnected());\n\t\t\t},\n\t\t\tmystopP2p(){\n\t\t\t\tstopP2p();\n\t\t\t},\n\t\t\tstop(){\n\t\t\t\tthis.videoContext?.stop();\n\t\t\t},\n\t\t\t\n\t\t\tonError: function (res : UniVideoErrorEvent) {\n\t\t\t        uni.__log__('log','at pages/index/index.uvue:78',res.type + \" -> \" + JSON.stringify(res.detail));\n\t\t\t       \n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.logo {\r\n\t\theight: 200rpx;\r\n\t\twidth: 200rpx;\r\n\t\tmargin-top: 200rpx;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.title {\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #8f8f94;\r\n\t}\r\n</style>\n","<script lang=\"uts\">\r\n\tlet firstBackTime = 0\r\n\texport default {\r\n\t\tonLaunch: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:5','App Launch')\r\n\t\t},\r\n\t\tonShow: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:8','App Show')\r\n\t\t},\r\n\t\tonHide: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:11','App Hide')\r\n\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tonExit: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:32','App Exit')\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*每个页面公共css */\r\n\t.uni-row {\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.uni-column {\r\n\t\tflex-direction: column;\r\n\t}\r\n</style>","import App from './App.uvue'\r\n\r\nimport { createSSRApp } from 'vue'\r\nexport function createApp() {\r\n\tconst app = createSSRApp(App)\r\n\treturn {\r\n\t\tapp\r\n\t}\r\n}"],"names":["defineComponent","createSSRApp"],"mappings":"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"}